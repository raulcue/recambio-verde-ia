<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"><title>Login - Recambio Reciclado</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 min-h-screen flex items-center justify-center">
    <div class="bg-white p-8 rounded-3xl shadow-xl w-full max-w-md text-center">
        <img src="/assets/logo.png" class="h-20 mx-auto mb-6">
        <form id="loginForm" class="space-y-4">
            <input type="email" id="email" placeholder="Email" class="w-full p-4 bg-slate-50 border rounded-2xl outline-none focus:ring-2 focus:ring-green-500" required>
            <input type="password" id="password" placeholder="ContraseÃ±a" class="w-full p-4 bg-slate-50 border rounded-2xl outline-none focus:ring-2 focus:ring-green-500" required>
            <button class="w-full bg-slate-800 text-white py-4 rounded-2xl font-bold uppercase text-xs tracking-widest">Entrar</button>
        </form>
    </div>
    <script>
        document.getElementById('loginForm').onsubmit = async (e) => {
            e.preventDefault();
            const res = await fetch('/auth/login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({email: e.target.email.value, password: e.target.password.value})
            });
            const data = await res.json();
            if(data.success) window.location.href = data.redirect;
            else alert("Error");
        }
    </script>
</body>
</html>
